{% comment %}

  MailChimp is the go-to newsletter service for Shopify.
  Use the link below to find your MailChimp "form action"
  and insert it in your site settings.

  MailChimp newsletter integration and requirement:
   - http://docs.shopify.com/support/configuration/store-customization/where-do-i-get-my-mailchimp-form-action

{% endcomment %}
{% if settings.newsletter_form_action != blank %}
  {% assign form_action = settings.newsletter_form_action %}
{% else %}
  {% assign form_action = '#' %}
{% endif %}
{% if settings.newsletter_service == 'mailchimp' %}
<form action="{{ form_action }}" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" class="small--hide">
  <input type="email" value="{% if customer %}{{ customer.email }}{% endif %}" placeholder="{{ 'general.newsletter_form.newsletter_email' | t }}" name="EMAIL" id="mail" aria-label="{{ 'general.newsletter_form.newsletter_email' | t }}" autocorrect="off" autocapitalize="off">
  <input type="submit" class="btn" name="subscribe" id="subscribe" value="{{ 'general.newsletter_form.submit' | t }}">
</form>
<form action="{{ form_action }}" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" class="large--hide medium--hide input-group">
  <input type="email" value="{% if customer %}{{ customer.email }}{% endif %}" placeholder="{{ 'general.newsletter_form.newsletter_email' | t }}" name="EMAIL" id="mail" class="input-group-field" aria-label="{{ 'general.newsletter_form.newsletter_email' | t }}" autocorrect="off" autocapitalize="off">
  <span class="input-group-btn">
    <input type="submit" class="btn" name="subscribe" id="subscribe" value="{{ 'general.newsletter_form.submit' | t }}">
  </span>
</form>
{% else %}
  <!--Begin CTCT Sign-Up Form-->
  <!-- EFD 1.0.0 [Fri May 05 10:59:30 EDT 2017] -->
  <div class="ctct-embed-signup">
     <div>
         <span id="success_message" style="display:none;">
             <div style="text-align:center;">Thanks for signing up!</div>
         </span>
         <form data-id="embedded_signup:form" class="ctct-custom-form Form" name="embedded_signup" method="POST" action="https://visitor2.constantcontact.com/api/signup">
             <!-- The following code must be included to ensure your sign-up form works properly. -->
             <input data-id="ca:input" type="hidden" name="ca" value="58e97824-88ab-4b4a-87c8-60fdbd108d92">
             <input data-id="list:input" type="hidden" name="list" value="2">
             <input data-id="source:input" type="hidden" name="source" value="EFD">
             <input data-id="required:input" type="hidden" name="required" value="list,email">
             <input data-id="url:input" type="hidden" name="url" value="">
<!--              <p data-id="Email Address:p" > -->
<!--                <label data-id="Email Address:label" data-name="email" class="ctct-form-required">Email Address</label>  -->
               <input data-id="Email Address:input" type="email" name="email" value="" maxlength="80">
<!--              </p> -->
             <input type="submit" class="btn ctct-button Button--block Button-secondary" data-enabled="enabled" value="Sign Up">
<!--           <div><p class="ctct-form-footer">By submitting this form, you are granting: BnB Tobacco, 344 Maple Avenue West #110, Vienna, Virginia, 22180, United States, http://www.bnbtobacco.com permission to email you. You may unsubscribe via the link found at the bottom of every email.  (See our <a href="http://www.constantcontact.com/legal/privacy-statement" target="_blank">Email Privacy Policy</a> for details.) Emails are serviced by Constant Contact.</p></div> -->
         </form>
     </div>
  </div>
  <script type='text/javascript'>
     var localizedErrMap = {};
     localizedErrMap['required'] = 		'This field is required.';
     localizedErrMap['ca'] = 			'An unexpected error occurred while attempting to send email.';
     localizedErrMap['email'] = 			'Please enter your email address in name@email.com format.';
     localizedErrMap['birthday'] = 		'Please enter birthday in MM/DD format.';
     localizedErrMap['anniversary'] = 	'Please enter anniversary in MM/DD/YYYY format.';
     localizedErrMap['custom_date'] = 	'Please enter this date in MM/DD/YYYY format.';
     localizedErrMap['list'] = 			'Please select at least one email list.';
     localizedErrMap['generic'] = 		'This field is invalid.';
     localizedErrMap['shared'] = 		'Sorry, we could not complete your sign-up. Please contact us to resolve this.';
     localizedErrMap['state_mismatch'] = 'Mismatched State/Province and Country.';
      localizedErrMap['state_province'] = 'Select a state/province';
     localizedErrMap['selectcountry'] = 	'Select a country';
     var postURL = 'https://visitor2.constantcontact.com/api/signup';
  </script>
  <script type='text/javascript' src='https://static.ctctcdn.com/h/contacts-embedded-signup-assets/1.0.2/js/signup-form.js'></script>
  <!--End CTCT Sign-Up Form-->
{% endif %}